<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase 2 Implementation Guide - Home Accessibility Score</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e3a5f;
            --primary-light: #2d5a8a;
            --accent: #e8985e;
            --background: #faf9f7;
            --text: #2c3e50;
            --text-light: #5d6d7e;
            --border: #e5e2dc;
            --white: #ffffff;
            --success: #1d7a5f;
            --warning: #d4a03c;
            --danger: #c0392b;
            --code-bg: #1e1e1e;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
        }

        /* Header */
        .doc-header {
            text-align: center;
            padding: 60px 40px;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: var(--white);
            margin: -40px -40px 40px -40px;
        }

        .doc-header h1 {
            font-family: 'Fraunces', serif;
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .doc-header .subtitle {
            font-size: 1.125rem;
            opacity: 0.9;
        }

        .doc-header .version {
            display: inline-block;
            background: var(--accent);
            padding: 4px 16px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 16px;
        }

        /* Navigation */
        .toc {
            background: var(--white);
            border-radius: 12px;
            padding: 24px 32px;
            margin-bottom: 40px;
            border: 1px solid var(--border);
            position: sticky;
            top: 20px;
        }

        .toc h2 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
        }

        .toc ol {
            list-style: none;
            counter-reset: toc-counter;
            columns: 2;
            column-gap: 32px;
        }

        .toc li {
            counter-increment: toc-counter;
            padding: 6px 0;
            break-inside: avoid;
        }

        .toc li::before {
            content: counter(toc-counter) ".";
            color: var(--accent);
            font-weight: 600;
            margin-right: 8px;
        }

        .toc a {
            color: var(--text);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .toc a:hover {
            color: var(--primary);
        }

        /* Sections */
        section {
            margin-bottom: 48px;
        }

        h2 {
            font-family: 'Fraunces', serif;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid var(--accent);
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text);
            margin: 28px 0 12px 0;
        }

        h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-light);
            margin: 20px 0 8px 0;
        }

        p {
            margin-bottom: 16px;
        }

        /* Cards */
        .card {
            background: var(--white);
            border-radius: 12px;
            padding: 24px;
            margin: 20px 0;
            border: 1px solid var(--border);
        }

        .card.highlight {
            border-left: 4px solid var(--accent);
        }

        .card.success {
            border-left: 4px solid var(--success);
            background: #f0faf6;
        }

        .card.warning {
            border-left: 4px solid var(--warning);
            background: #fffbf0;
        }

        .card.danger {
            border-left: 4px solid var(--danger);
            background: #fdf5f5;
        }

        .card.decision {
            border: 2px dashed var(--accent);
            background: #fffcf8;
        }

        .card h4 {
            margin-top: 0;
            color: var(--text);
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: var(--white);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
            font-size: 0.9rem;
        }

        th, td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--primary);
            color: var(--white);
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:hover {
            background: var(--background);
        }

        /* Code */
        code {
            background: #f4f4f4;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-family: 'Fira Code', monospace;
        }

        pre {
            background: var(--code-bg);
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 16px 0;
            font-size: 0.85rem;
            line-height: 1.5;
        }

        pre code {
            background: transparent;
            padding: 0;
            color: inherit;
        }

        .code-label {
            background: var(--primary);
            color: var(--white);
            padding: 6px 12px;
            border-radius: 8px 8px 0 0;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-block;
            margin-bottom: -4px;
        }

        /* Lists */
        ul, ol {
            margin: 16px 0;
            padding-left: 24px;
        }

        li {
            margin-bottom: 8px;
        }

        /* Checklist */
        .checklist {
            list-style: none;
            padding-left: 0;
        }

        .checklist li {
            padding: 8px 0;
            padding-left: 32px;
            position: relative;
            border-bottom: 1px solid var(--border);
        }

        .checklist li:last-child {
            border-bottom: none;
        }

        .checklist li::before {
            content: '‚òê';
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .checklist li.done::before {
            content: '‚òë';
            color: var(--success);
        }

        /* Flow */
        .flow {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin: 24px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .flow-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--primary);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
            flex-shrink: 0;
        }

        .flow-content {
            flex: 1;
            background: var(--white);
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid var(--border);
            font-size: 0.9rem;
        }

        .flow-arrow {
            width: 32px;
            display: flex;
            justify-content: center;
            color: var(--text-light);
        }

        /* Status badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-success { background: #e8f5f0; color: var(--success); }
        .badge-warning { background: #fff8e6; color: var(--warning); }
        .badge-danger { background: #fdf0ef; color: var(--danger); }
        .badge-info { background: #e8f0ff; color: var(--primary); }

        /* Summary boxes */
        .summary-box {
            background: var(--primary);
            color: var(--white);
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
        }

        .summary-box h4 {
            color: var(--white);
            margin: 0 0 12px 0;
        }

        /* File reference */
        .file-ref {
            background: #f8f8f8;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .file-ref-icon {
            font-size: 1.5rem;
        }

        .file-ref-info {
            flex: 1;
        }

        .file-ref-name {
            font-weight: 600;
            color: var(--text);
        }

        .file-ref-desc {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        /* Print */
        @media print {
            .container { max-width: 100%; padding: 20px; }
            .toc { position: static; }
            pre { white-space: pre-wrap; }
        }

        @media (max-width: 768px) {
            .container { padding: 20px; }
            .doc-header { margin: -20px -20px 20px -20px; padding: 40px 20px; }
            .toc ol { columns: 1; }
            table { font-size: 0.8rem; }
            th, td { padding: 8px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="doc-header">
            <h1>Phase 2 Implementation Guide</h1>
            <p class="subtitle">Technical Reference & Decision Summary</p>
            <span class="version">December 2024</span>
        </header>

        <!-- Table of Contents -->
        <nav class="toc">
            <h2>Contents</h2>
            <ol>
                <li><a href="#overview">Overview & Timeline</a></li>
                <li><a href="#decisions">Key Decisions Made</a></li>
                <li><a href="#supabase">Supabase Setup</a></li>
                <li><a href="#auth">Magic Link Authentication</a></li>
                <li><a href="#stripe">Stripe Integration</a></li>
                <li><a href="#database">Database Schema</a></li>
                <li><a href="#sessions">Session Management</a></li>
                <li><a href="#saved">Saved Properties</a></li>
                <li><a href="#stamp-duty">Wales/Scotland Stamp Duty</a></li>
                <li><a href="#scraping">Scraping & Legal</a></li>
                <li><a href="#design">Design Assets</a></li>
                <li><a href="#costs">Costs & Pricing</a></li>
                <li><a href="#outstanding">Outstanding Decisions</a></li>
                <li><a href="#checklist">Implementation Checklist</a></li>
            </ol>
        </nav>

        <!-- Section 1: Overview -->
        <section id="overview">
            <h2>1. Overview & Timeline</h2>
            
            <div class="card highlight">
                <h4>Phase 2 Scope</h4>
                <ul>
                    <li>Database infrastructure (Supabase)</li>
                    <li>User authentication (Magic Links)</li>
                    <li>Subscription payments (Stripe Checkout)</li>
                    <li>Saved properties feature</li>
                    <li>Wales/Scotland stamp duty</li>
                    <li>Premium UI redesign</li>
                    <li>Landing page</li>
                </ul>
            </div>

            <h3>Estimated Timeline</h3>
            <table>
                <thead>
                    <tr>
                        <th>Week</th>
                        <th>Tasks</th>
                        <th>Hours</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Week 1</strong></td>
                        <td>Supabase setup, database schema, magic link auth, Wales/Scotland stamp duty</td>
                        <td>10-14</td>
                    </tr>
                    <tr>
                        <td><strong>Week 2</strong></td>
                        <td>Stripe integration, subscription flow, webhooks</td>
                        <td>10-14</td>
                    </tr>
                    <tr>
                        <td><strong>Week 3</strong></td>
                        <td>Landing page, premium UI, saved properties, paywall</td>
                        <td>10-12</td>
                    </tr>
                    <tr>
                        <td><strong>Week 4</strong></td>
                        <td>Testing, bug fixes, domain setup, soft launch</td>
                        <td>6-8</td>
                    </tr>
                </tbody>
            </table>

            <div class="summary-box">
                <h4>Total Estimate: 36-48 hours over 4-5 weeks</h4>
            </div>
        </section>

        <!-- Section 2: Key Decisions -->
        <section id="decisions">
            <h2>2. Key Decisions Made</h2>

            <table>
                <thead>
                    <tr>
                        <th>Decision</th>
                        <th>Choice</th>
                        <th>Rationale</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Database</td>
                        <td><span class="badge badge-success">Supabase</span></td>
                        <td>All-in-one: PostgreSQL + Auth + free tier</td>
                    </tr>
                    <tr>
                        <td>Authentication</td>
                        <td><span class="badge badge-success">Magic Links</span></td>
                        <td>No passwords, simpler for target audience, less code</td>
                    </tr>
                    <tr>
                        <td>Payments</td>
                        <td><span class="badge badge-success">Stripe Checkout</span></td>
                        <td>Hosted UI, PCI compliant, minimal code</td>
                    </tr>
                    <tr>
                        <td>Subscription model</td>
                        <td><span class="badge badge-success">Account-based</span></td>
                        <td>Better than access codes: no sharing, auto-renewal, analytics</td>
                    </tr>
                    <tr>
                        <td>Free search limiting</td>
                        <td><span class="badge badge-info">localStorage</span></td>
                        <td>Simple, sufficient for target audience</td>
                    </tr>
                    <tr>
                        <td>Session limits</td>
                        <td><span class="badge badge-warning">Deferred</span></td>
                        <td>Log device data now, enforce limits later if needed</td>
                    </tr>
                    <tr>
                        <td>Team plans</td>
                        <td><span class="badge badge-warning">Deferred</span></td>
                        <td>Launch with individual plans, add team if demand validated</td>
                    </tr>
                    <tr>
                        <td>Rental properties</td>
                        <td><span class="badge badge-warning">Deferred</span></td>
                        <td>Validate demand before building</td>
                    </tr>
                    <tr>
                        <td>Performance testing</td>
                        <td><span class="badge badge-warning">Deferred</span></td>
                        <td>Add monitoring instead, optimise when needed</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 3: Supabase -->
        <section id="supabase">
            <h2>3. Supabase Setup</h2>

            <h3>Why Supabase?</h3>
            <ul>
                <li><strong>All-in-one:</strong> Database + Auth + Storage in one service</li>
                <li><strong>PostgreSQL:</strong> Industry-standard relational database</li>
                <li><strong>Built-in Auth:</strong> Magic links, sessions, all handled</li>
                <li><strong>Free tier:</strong> 500MB database, 50,000 MAU</li>
                <li><strong>Auto-generated APIs:</strong> REST endpoints from schema</li>
            </ul>

            <h3>Setup Steps</h3>
            <div class="flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">Create account at <strong>supabase.com</strong></div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">Create new project (choose region: London)</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">Note down: Project URL + Anon Key + Service Role Key</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">4</div>
                    <div class="flow-content">Go to SQL Editor ‚Üí Run schema migration (see Section 6)</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">5</div>
                    <div class="flow-content">Test connection from local machine</div>
                </div>
            </div>

            <h3>Environment Variables</h3>
            <div class="code-label">.env.example</div>
            <pre><code># Supabase
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# App
APP_NAME=Home Accessibility Score
APP_URL=https://yoursite.com</code></pre>

            <div class="card warning">
                <h4>‚ö†Ô∏è Important</h4>
                <ul>
                    <li>Add <code>.env</code> to <code>.gitignore</code></li>
                    <li>Never commit real keys to repository</li>
                    <li>Use different keys for development vs production</li>
                </ul>
            </div>

            <h3>Install SDK</h3>
            <div class="code-label">Terminal</div>
            <pre><code>npm install @supabase/supabase-js</code></pre>

            <h3>Initialize Client</h3>
            <div class="code-label">lib/supabase.js</div>
            <pre><code>import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.SUPABASE_URL
const supabaseKey = process.env.SUPABASE_ANON_KEY

export const supabase = createClient(supabaseUrl, supabaseKey)</code></pre>

            <h3>Pricing Reference</h3>
            <table>
                <thead>
                    <tr>
                        <th>Plan</th>
                        <th>Price</th>
                        <th>Database</th>
                        <th>Auth Users</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Free</td>
                        <td>¬£0</td>
                        <td>500 MB</td>
                        <td>50,000 MAU</td>
                    </tr>
                    <tr>
                        <td>Pro</td>
                        <td>~¬£20/mo</td>
                        <td>8 GB</td>
                        <td>100,000 MAU</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 4: Authentication -->
        <section id="auth">
            <h2>4. Magic Link Authentication</h2>

            <h3>How It Works</h3>
            <div class="flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">User enters email address</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">Supabase generates unique token, sends email</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">User clicks link in email</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">4</div>
                    <div class="flow-content">Token validated ‚Üí session created ‚Üí user logged in</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">5</div>
                    <div class="flow-content">Session persists for 30 days (configurable)</div>
                </div>
            </div>

            <div class="card success">
                <h4>‚úÖ Key Point: Sessions Persist</h4>
                <p>Users don't need a new magic link every visit. Sessions last ~30 days. New link only needed when:</p>
                <ul>
                    <li>Session expires</li>
                    <li>User logs out</li>
                    <li>User clears cookies</li>
                    <li>New device/browser</li>
                </ul>
            </div>

            <h3>Session Scope</h3>
            <table>
                <thead>
                    <tr>
                        <th>Factor</th>
                        <th>Affects Session?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>WiFi network / location change</td>
                        <td>‚ùå No ‚Äî stays logged in</td>
                    </tr>
                    <tr>
                        <td>IP address change</td>
                        <td>‚ùå No ‚Äî stays logged in</td>
                    </tr>
                    <tr>
                        <td>Same browser, same device</td>
                        <td>‚úÖ Stays logged in</td>
                    </tr>
                    <tr>
                        <td>Different browser, same device</td>
                        <td>‚ùå Separate session needed</td>
                    </tr>
                    <tr>
                        <td>Different device</td>
                        <td>‚ùå Separate session needed</td>
                    </tr>
                </tbody>
            </table>

            <h3>Implementation</h3>
            <div class="code-label">Request Magic Link</div>
            <pre><code>const { error } = await supabase.auth.signInWithOtp({
  email: userEmail,
  options: {
    emailRedirectTo: 'https://yoursite.com/auth/callback'
  }
});

if (error) {
  console.error('Error sending magic link:', error.message);
} else {
  // Show "Check your email" message
}</code></pre>

            <div class="code-label">Check Auth Status</div>
            <pre><code>const { data: { user } } = await supabase.auth.getUser();

if (user) {
  // User is logged in
  console.log('Logged in as:', user.email);
} else {
  // User is not logged in
}</code></pre>

            <div class="code-label">Handle Auth Callback (auth/callback page)</div>
            <pre><code>// Supabase handles token extraction automatically
// Just ensure the page exists and redirects appropriately

const { data: { session } } = await supabase.auth.getSession();

if (session) {
  // Redirect to dashboard
  window.location.href = '/dashboard';
} else {
  // Redirect to login with error
  window.location.href = '/login?error=auth_failed';
}</code></pre>

            <div class="code-label">Sign Out</div>
            <pre><code>await supabase.auth.signOut();</code></pre>
        </section>

        <!-- Section 5: Stripe -->
        <section id="stripe">
            <h2>5. Stripe Integration</h2>

            <h3>Overview</h3>
            <p>Using <strong>Stripe Checkout</strong> (hosted payment page). You don't build any payment UI ‚Äî Stripe handles it all.</p>

            <h3>Setup Steps</h3>
            <div class="flow">
                <div class="flow-step">
                    <div class="flow-number">1</div>
                    <div class="flow-content">Create Stripe account at <strong>stripe.com</strong></div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">2</div>
                    <div class="flow-content">Get API keys (Dashboard ‚Üí Developers ‚Üí API Keys)</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">3</div>
                    <div class="flow-content">Create products (Dashboard ‚Üí Products ‚Üí Add Product)</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">4</div>
                    <div class="flow-content">Configure branding (Dashboard ‚Üí Settings ‚Üí Branding)</div>
                </div>
                <div class="flow-step"><div class="flow-arrow">‚Üì</div></div>
                <div class="flow-step">
                    <div class="flow-number">5</div>
                    <div class="flow-content">Set statement descriptor (Dashboard ‚Üí Settings ‚Üí Public details)</div>
                </div>
            </div>

            <h3>Create Products in Dashboard</h3>
            <table>
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>Price</th>
                        <th>Billing</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Monthly Subscription</td>
                        <td>¬£19.99</td>
                        <td>Monthly recurring</td>
                    </tr>
                    <tr>
                        <td>Annual Subscription</td>
                        <td>¬£199.99</td>
                        <td>Yearly recurring</td>
                    </tr>
                </tbody>
            </table>

            <h3>Install SDK</h3>
            <div class="code-label">Terminal</div>
            <pre><code>npm install stripe</code></pre>

            <h3>Create Checkout Session</h3>
            <div class="code-label">Backend: /api/create-checkout-session</div>
            <pre><code>const stripe = require('stripe')(process.env.STRIPE_SECRET_KEY);

app.post('/api/create-checkout-session', async (req, res) => {
  const { priceId, userEmail } = req.body;
  
  try {
    const session = await stripe.checkout.sessions.create({
      mode: 'subscription',
      payment_method_types: ['card'],
      line_items: [
        {
          price: priceId,  // price_xxx from Stripe dashboard
          quantity: 1,
        },
      ],
      customer_email: userEmail,
      success_url: `${process.env.APP_URL}/success?session_id={CHECKOUT_SESSION_ID}`,
      cancel_url: `${process.env.APP_URL}/pricing`,
    });

    res.json({ url: session.url });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});</code></pre>

            <div class="code-label">Frontend: Redirect to Checkout</div>
            <pre><code>async function handleSubscribe(plan) {
  const priceId = plan === 'monthly' 
    ? 'price_1ABC123...'   // Get from Stripe dashboard
    : 'price_1DEF456...';
    
  const response = await fetch('/api/create-checkout-session', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ 
      priceId,
      userEmail: currentUser.email 
    }),
  });
  
  const { url } = await response.json();
  window.location.href = url;  // Redirect to Stripe
}</code></pre>

            <h3>Webhook Handler</h3>
            <div class="code-label">Backend: /webhook/stripe</div>
            <pre><code>const endpointSecret = process.env.STRIPE_WEBHOOK_SECRET;

// IMPORTANT: Use express.raw() for this route, not express.json()
app.post('/webhook/stripe', 
  express.raw({ type: 'application/json' }), 
  async (req, res) => {
    const sig = req.headers['stripe-signature'];
    
    let event;
    try {
      event = stripe.webhooks.constructEvent(req.body, sig, endpointSecret);
    } catch (err) {
      console.error('Webhook signature failed:', err.message);
      return res.status(400).send(`Webhook Error: ${err.message}`);
    }

    // Handle events
    switch (event.type) {
      case 'checkout.session.completed':
        const session = event.data.object;
        // Link Stripe customer to your user
        await linkStripeCustomer(session.customer_email, session.customer);
        break;
        
      case 'customer.subscription.deleted':
        const subscription = event.data.object;
        // Handle cancellation
        await handleCancellation(subscription.customer);
        break;
    }

    res.json({ received: true });
  }
);</code></pre>

            <h3>Check Subscription Status</h3>
            <div class="code-label">Backend helper function</div>
            <pre><code>async function hasActiveSubscription(stripeCustomerId) {
  if (!stripeCustomerId) return false;
  
  const subscriptions = await stripe.subscriptions.list({
    customer: stripeCustomerId,
    status: 'active',
    limit: 1,
  });
  
  return subscriptions.data.length > 0;
}</code></pre>

            <h3>Customer Portal (Manage Subscription)</h3>
            <div class="code-label">Backend: /api/customer-portal</div>
            <pre><code>app.post('/api/customer-portal', async (req, res) => {
  const { stripeCustomerId } = req.user;
  
  const session = await stripe.billingPortal.sessions.create({
    customer: stripeCustomerId,
    return_url: `${process.env.APP_URL}/account`,
  });
  
  res.json({ url: session.url });
});</code></pre>

            <h3>Statement Descriptor</h3>
            <p>Configure in Stripe Dashboard ‚Üí Settings ‚Üí Public details:</p>
            <ul>
                <li><strong>Statement descriptor:</strong> <code>HOMEACCESSSCORE</code> (22 char max)</li>
                <li><strong>Shortened descriptor:</strong> <code>HAS</code> (10 char max)</li>
            </ul>
            <p>Customer's bank statement will show your descriptor, NOT your underlying business name.</p>
        </section>

        <!-- Section 6: Database Schema -->
        <section id="database">
            <h2>6. Database Schema</h2>

            <div class="code-label">SQL Migration (run in Supabase SQL Editor)</div>
            <pre><code>-- User profiles (extends Supabase auth.users)
CREATE TABLE user_profiles (
    id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
    email TEXT NOT NULL,
    full_name TEXT,
    company_name TEXT,
    stripe_customer_id TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create profile automatically when user signs up
CREATE OR REPLACE FUNCTION handle_new_user()
RETURNS TRIGGER AS $$
BEGIN
  INSERT INTO public.user_profiles (id, email)
  VALUES (NEW.id, NEW.email);
  RETURN NEW;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE TRIGGER on_auth_user_created
  AFTER INSERT ON auth.users
  FOR EACH ROW EXECUTE FUNCTION handle_new_user();

-- Saved properties
CREATE TABLE saved_properties (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES user_profiles(id) ON DELETE CASCADE,
    
    -- Reference to source (not storing their content)
    source_url TEXT NOT NULL,
    source_platform TEXT DEFAULT 'rightmove',
    
    -- Basic facts (not copyrightable)
    address TEXT,
    postcode TEXT,
    property_type TEXT,
    bedrooms INTEGER,
    price INTEGER,
    
    -- Our generated data
    overall_score DECIMAL(3,2),
    scores JSONB,
    
    -- Metadata
    analysed_at TIMESTAMPTZ DEFAULT NOW(),
    notes TEXT,
    
    -- Prevent duplicates
    UNIQUE(user_id, source_url)
);

-- Device log (for future analytics, no enforcement yet)
CREATE TABLE device_log (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES user_profiles(id) ON DELETE CASCADE,
    device_fingerprint TEXT,
    user_agent TEXT,
    ip_city TEXT,
    logged_at TIMESTAMPTZ DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_saved_properties_user ON saved_properties(user_id);
CREATE INDEX idx_saved_properties_analysed ON saved_properties(analysed_at DESC);
CREATE INDEX idx_device_log_user ON device_log(user_id);

-- Row Level Security
ALTER TABLE user_profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE saved_properties ENABLE ROW LEVEL SECURITY;
ALTER TABLE device_log ENABLE ROW LEVEL SECURITY;

-- Users can only read/write their own data
CREATE POLICY "Users can view own profile" 
  ON user_profiles FOR SELECT 
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile" 
  ON user_profiles FOR UPDATE 
  USING (auth.uid() = id);

CREATE POLICY "Users can view own saved properties" 
  ON saved_properties FOR SELECT 
  USING (auth.uid() = user_id);

CREATE POLICY "Users can insert own saved properties" 
  ON saved_properties FOR INSERT 
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can delete own saved properties" 
  ON saved_properties FOR DELETE 
  USING (auth.uid() = user_id);</code></pre>
        </section>

        <!-- Section 7: Session Management -->
        <section id="sessions">
            <h2>7. Session Management</h2>

            <h3>Phase 2 Approach: Log Only, No Enforcement</h3>
            <p>We'll capture device metadata for future analytics, but won't limit concurrent sessions yet. This gives us data to identify sharing patterns without risking false positives.</p>

            <div class="code-label">Log device access on authentication</div>
            <pre><code>async function logDeviceAccess(userId, req) {
  const fingerprint = generateFingerprint(req);
  
  await supabase.from('device_log').insert({
    user_id: userId,
    device_fingerprint: fingerprint,
    user_agent: req.headers['user-agent'],
    ip_city: await getCityFromIP(req.ip),  // Optional
  });
}

function generateFingerprint(req) {
  // Simple fingerprint from user agent + accept headers
  const ua = req.headers['user-agent'] || '';
  const accept = req.headers['accept-language'] || '';
  return Buffer.from(ua + accept).toString('base64').slice(0, 32);
}</code></pre>

            <h3>Future Query: Find Multi-Device Accounts</h3>
            <div class="code-label">SQL query for Phase 3 outreach</div>
            <pre><code>-- Find accounts using 3+ devices in last 30 days
SELECT 
  user_id, 
  up.email,
  COUNT(DISTINCT device_fingerprint) as device_count
FROM device_log dl
JOIN user_profiles up ON up.id = dl.user_id
WHERE logged_at > NOW() - INTERVAL '30 days'
GROUP BY user_id, up.email
HAVING COUNT(DISTINCT device_fingerprint) >= 3
ORDER BY device_count DESC;</code></pre>
        </section>

        <!-- Section 8: Saved Properties -->
        <section id="saved">
            <h2>8. Saved Properties Feature</h2>

            <h3>What We Store (Legal Analysis)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Data Point</th>
                        <th>Is This Rightmove's?</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>URL</td>
                        <td>‚ùå No</td>
                        <td>It's a link, user provides it</td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td>‚ùå No</td>
                        <td>Facts can't be copyrighted</td>
                    </tr>
                    <tr>
                        <td>Price</td>
                        <td>‚ùå No</td>
                        <td>Public information</td>
                    </tr>
                    <tr>
                        <td>Property type</td>
                        <td>‚ùå No</td>
                        <td>Classification, not content</td>
                    </tr>
                    <tr>
                        <td>Our score</td>
                        <td>‚ùå No</td>
                        <td>We generate this</td>
                    </tr>
                </tbody>
            </table>

            <div class="card success">
                <h4>‚úÖ Safe to Store</h4>
                <p>You're storing a search history with your analysis ‚Äî not republishing Rightmove content. Similar to how Goodreads stores book titles with your ratings.</p>
            </div>

            <h3>Implementation</h3>
            <div class="code-label">Save a property</div>
            <pre><code>async function saveProperty(userId, analysisResult) {
  const { error } = await supabase
    .from('saved_properties')
    .upsert({
      user_id: userId,
      source_url: analysisResult.url,
      source_platform: 'rightmove',
      address: analysisResult.address,
      postcode: analysisResult.postcode,
      property_type: analysisResult.propertyType,
      bedrooms: analysisResult.bedrooms,
      price: analysisResult.price,
      overall_score: analysisResult.overallScore,
      scores: analysisResult.scores,
      analysed_at: new Date().toISOString(),
    }, {
      onConflict: 'user_id,source_url'  // Update if already exists
    });
    
  return { error };
}</code></pre>

            <div class="code-label">Get user's saved properties</div>
            <pre><code>async function getSavedProperties(userId) {
  const { data, error } = await supabase
    .from('saved_properties')
    .select('*')
    .eq('user_id', userId)
    .order('analysed_at', { ascending: false });
    
  return { data, error };
}</code></pre>
        </section>

        <!-- Section 9: Stamp Duty -->
        <section id="stamp-duty">
            <h2>9. Wales/Scotland Stamp Duty</h2>

            <h3>Tax Names by Country</h3>
            <table>
                <thead>
                    <tr>
                        <th>Country</th>
                        <th>Tax Name</th>
                        <th>Abbreviation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>England & N.Ireland</td>
                        <td>Stamp Duty Land Tax</td>
                        <td>SDLT</td>
                    </tr>
                    <tr>
                        <td>Scotland</td>
                        <td>Land and Buildings Transaction Tax</td>
                        <td>LBTT</td>
                    </tr>
                    <tr>
                        <td>Wales</td>
                        <td>Land Transaction Tax</td>
                        <td>LTT</td>
                    </tr>
                </tbody>
            </table>

            <h3>Detect Country from Postcode</h3>
            <div class="code-label">Using postcodes.io API (free)</div>
            <pre><code>async function getCountryFromPostcode(postcode) {
  const cleanPostcode = postcode.replace(/\s/g, '').toUpperCase();
  
  try {
    const response = await fetch(
      `https://api.postcodes.io/postcodes/${cleanPostcode}`
    );
    const data = await response.json();
    
    if (data.status === 200) {
      return data.result.country;  // "England", "Scotland", "Wales"
    }
  } catch (error) {
    console.error('Postcode lookup failed:', error);
  }
  
  return 'England';  // Default fallback
}</code></pre>

            <h3>Tax Bands</h3>
            <div class="code-label">Stamp duty calculation</div>
            <pre><code>const TAX_BANDS = {
  england: {
    name: 'Stamp Duty (SDLT)',
    bands: [
      { threshold: 125000, rate: 0 },
      { threshold: 250000, rate: 0.02 },
      { threshold: 925000, rate: 0.05 },
      { threshold: 1500000, rate: 0.10 },
      { threshold: Infinity, rate: 0.12 },
    ]
  },
  scotland: {
    name: 'LBTT',
    bands: [
      { threshold: 145000, rate: 0 },
      { threshold: 250000, rate: 0.02 },
      { threshold: 325000, rate: 0.05 },
      { threshold: 750000, rate: 0.10 },
      { threshold: Infinity, rate: 0.12 },
    ]
  },
  wales: {
    name: 'Land Transaction Tax',
    bands: [
      { threshold: 225000, rate: 0 },
      { threshold: 400000, rate: 0.06 },
      { threshold: 750000, rate: 0.075 },
      { threshold: 1500000, rate: 0.10 },
      { threshold: Infinity, rate: 0.12 },
    ]
  }
};

function calculateStampDuty(price, country = 'england') {
  const countryKey = country.toLowerCase().replace('northern ireland', 'england');
  const { name, bands } = TAX_BANDS[countryKey] || TAX_BANDS.england;
  
  let tax = 0;
  let previousThreshold = 0;
  
  for (const band of bands) {
    if (price <= previousThreshold) break;
    
    const taxableInBand = Math.min(price, band.threshold) - previousThreshold;
    tax += taxableInBand * band.rate;
    previousThreshold = band.threshold;
  }
  
  return {
    amount: Math.round(tax),
    taxName: name,
    country: country
  };
}</code></pre>
        </section>

        <!-- Section 10: Scraping & Legal -->
        <section id="scraping">
            <h2>10. Scraping & Legal Considerations</h2>

            <h3>Key Insight: PropertyData Precedent</h3>
            <p>PropertyData.co.uk has operated commercially since 2017, scraping Rightmove, Zoopla, and OnTheMarket. They explicitly state their data source and operate as a registered UK company.</p>

            <div class="card highlight">
                <h4>Your Position is Stronger</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Factor</th>
                            <th>PropertyData</th>
                            <th>Your App</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Scraping volume</td>
                            <td>High (bulk area data)</td>
                            <td>Low (single properties)</td>
                        </tr>
                        <tr>
                            <td>Data storage</td>
                            <td>Yes (caches listings)</td>
                            <td>No (analyse & discard)</td>
                        </tr>
                        <tr>
                            <td>Competing with Rightmove?</td>
                            <td>Somewhat</td>
                            <td>No (different use case)</td>
                        </tr>
                        <tr>
                            <td>User-initiated?</td>
                            <td>Mixed</td>
                            <td>Yes (user provides URL)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Risk Mitigation</h3>
            <ul>
                <li><strong>Don't cache Rightmove content</strong> ‚Äî Analyse and discard descriptions, photos</li>
                <li><strong>Store only facts</strong> ‚Äî Address, price, type, your scores</li>
                <li><strong>User-initiated fetches</strong> ‚Äî User provides URL, you fetch on their behalf</li>
                <li><strong>Multi-portal support</strong> ‚Äî Add Zoopla, OnTheMarket to reduce dependency</li>
                <li><strong>Value-add positioning</strong> ‚Äî Accessibility analysis, not property search</li>
            </ul>

            <h3>Future Options If Successful</h3>
            <ol>
                <li><strong>Browser extension model</strong> ‚Äî Shifts scraping to client-side</li>
                <li><strong>Partner with PropertyData</strong> ‚Äî Use their API (¬£28+/mo)</li>
                <li><strong>Approach Rightmove</strong> ‚Äî Negotiate partnership from position of traction</li>
            </ol>
        </section>

        <!-- Section 11: Design -->
        <section id="design">
            <h2>11. Design Assets</h2>

            <h3>Design System</h3>
            <table>
                <thead>
                    <tr>
                        <th>Element</th>
                        <th>Value</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Primary colour</td>
                        <td><code>#1e3a5f</code> (Navy)</td>
                    </tr>
                    <tr>
                        <td>Accent colour</td>
                        <td><code>#e8985e</code> (Coral)</td>
                    </tr>
                    <tr>
                        <td>Background</td>
                        <td><code>#faf9f7</code> (Warm white)</td>
                    </tr>
                    <tr>
                        <td>Heading font</td>
                        <td>Fraunces (serif)</td>
                    </tr>
                    <tr>
                        <td>Body font</td>
                        <td>DM Sans (sans-serif)</td>
                    </tr>
                    <tr>
                        <td>Border radius</td>
                        <td>12-20px (cards), 8-10px (buttons)</td>
                    </tr>
                </tbody>
            </table>

            <h3>Mockup Files</h3>
            <div class="file-ref">
                <div class="file-ref-icon">üìÑ</div>
                <div class="file-ref-info">
                    <div class="file-ref-name">premium-design-mockups.html</div>
                    <div class="file-ref-desc">Landing page with 3 colour theme options (toggle in top-right)</div>
                </div>
            </div>
            <div class="file-ref">
                <div class="file-ref-icon">üìÑ</div>
                <div class="file-ref-info">
                    <div class="file-ref-name">analysis-results-mockup.html</div>
                    <div class="file-ref-desc">Full analysis results page layout</div>
                </div>
            </div>
            <div class="file-ref">
                <div class="file-ref-icon">üìÑ</div>
                <div class="file-ref-info">
                    <div class="file-ref-name">phase2-development-plan.html</div>
                    <div class="file-ref-desc">Summary document for team sharing</div>
                </div>
            </div>

            <h3>Google Fonts Import</h3>
            <div class="code-label">HTML head</div>
            <pre><code>&lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
&lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
&lt;link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:wght@400;600;700&display=swap" rel="stylesheet"&gt;</code></pre>
        </section>

        <!-- Section 12: Costs -->
        <section id="costs">
            <h2>12. Costs & Pricing</h2>

            <h3>Monthly Infrastructure</h3>
            <table>
                <thead>
                    <tr>
                        <th>Service</th>
                        <th>At Launch</th>
                        <th>At Scale (500+ users)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Supabase</td>
                        <td>¬£0 (free tier)</td>
                        <td>¬£20 (Pro)</td>
                    </tr>
                    <tr>
                        <td>Hosting (Render)</td>
                        <td>¬£0 (free tier)</td>
                        <td>¬£20 (Starter)</td>
                    </tr>
                    <tr>
                        <td>Domain (.co.uk)</td>
                        <td>~¬£8/year</td>
                        <td>~¬£8/year</td>
                    </tr>
                    <tr>
                        <td>Stripe fees</td>
                        <td>1.4% + 20p/txn</td>
                        <td>1.4% + 20p/txn</td>
                    </tr>
                    <tr>
                        <td>Claude API</td>
                        <td>~¬£5-20</td>
                        <td>~¬£50-100</td>
                    </tr>
                    <tr>
                        <td>Google APIs</td>
                        <td>~¬£0-20</td>
                        <td>~¬£50-100</td>
                    </tr>
                    <tr>
                        <td><strong>Total</strong></td>
                        <td><strong>¬£5-40</strong></td>
                        <td><strong>¬£140-260</strong></td>
                    </tr>
                </tbody>
            </table>

            <h3>Subscription Pricing</h3>
            <table>
                <thead>
                    <tr>
                        <th>Plan</th>
                        <th>Price</th>
                        <th>Stripe Fee</th>
                        <th>Net Revenue</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Monthly</td>
                        <td>¬£19.99</td>
                        <td>¬£0.48</td>
                        <td>¬£19.51</td>
                    </tr>
                    <tr>
                        <td>Annual</td>
                        <td>¬£199.99</td>
                        <td>¬£3.00</td>
                        <td>¬£196.99</td>
                    </tr>
                </tbody>
            </table>

            <h3>Break-Even</h3>
            <ul>
                <li><strong>3 subscribers</strong> ‚Äî Covers basic infrastructure</li>
                <li><strong>10-15 subscribers</strong> ‚Äî Covers API costs at moderate usage</li>
                <li><strong>50+ subscribers</strong> ‚Äî ~¬£800/month profit</li>
            </ul>
        </section>

        <!-- Section 13: Outstanding -->
        <section id="outstanding">
            <h2>13. Outstanding Decisions</h2>

            <div class="card decision">
                <h4>ü§î Decisions Needed Before Launch</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Decision</th>
                            <th>Blocks Dev?</th>
                            <th>Blocks Launch?</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>App/business name</td>
                            <td>‚ùå No</td>
                            <td>‚ö†Ô∏è Yes</td>
                            <td>Use placeholder, swap before go-live</td>
                        </tr>
                        <tr>
                            <td>Domain name</td>
                            <td>‚ùå No</td>
                            <td>‚ö†Ô∏è Yes</td>
                            <td>Purchase 1-2 weeks before launch</td>
                        </tr>
                        <tr>
                            <td>Logo</td>
                            <td>‚ùå No</td>
                            <td>‚ùå No</td>
                            <td>Can launch with text/emoji</td>
                        </tr>
                        <tr>
                            <td>PDF layout</td>
                            <td>‚ùå No</td>
                            <td>‚ùå No</td>
                            <td>Phase 3+ feature</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Naming Options Under Consideration</h3>
            <table>
                <thead>
                    <tr>
                        <th>Option</th>
                        <th>Pros</th>
                        <th>Cons</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>HAS</strong> (Home Accessibility Score)</td>
                        <td>Memorable acronym like EPC, inclusive</td>
                        <td>Common word, SEO challenges</td>
                    </tr>
                    <tr>
                        <td><strong>Age Ready Home</strong></td>
                        <td>Clear audience, emotionally resonant</td>
                        <td>Excludes disability market</td>
                    </tr>
                    <tr>
                        <td>Other options</td>
                        <td colspan="2">AccessCheck, MoveReady, HomeScore Access</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 14: Checklist -->
        <section id="checklist">
            <h2>14. Implementation Checklist</h2>

            <h3>Week 1: Infrastructure</h3>
            <ul class="checklist">
                <li>Create Supabase account and project</li>
                <li>Run database schema migration</li>
                <li>Test Supabase connection from local</li>
                <li>Set up environment variables (.env)</li>
                <li>Implement magic link authentication</li>
                <li>Create auth callback page</li>
                <li>Add session check to protected routes</li>
                <li>Implement Wales/Scotland stamp duty detection</li>
                <li>Test postcodes.io integration</li>
            </ul>

            <h3>Week 2: Payments</h3>
            <ul class="checklist">
                <li>Create Stripe account</li>
                <li>Create products in Stripe dashboard</li>
                <li>Configure statement descriptor</li>
                <li>Set up branding in Stripe</li>
                <li>Implement create-checkout-session endpoint</li>
                <li>Implement webhook handler</li>
                <li>Test webhook with Stripe CLI</li>
                <li>Implement subscription status check</li>
                <li>Create customer portal endpoint</li>
                <li>Implement free search limiting (localStorage)</li>
            </ul>

            <h3>Week 3: Features & UI</h3>
            <ul class="checklist">
                <li>Implement saved properties feature</li>
                <li>Create saved properties list page</li>
                <li>Add device logging on auth</li>
                <li>Build landing page</li>
                <li>Build pricing page</li>
                <li>Implement paywall modal/redirect</li>
                <li>Apply premium design to analysis page</li>
                <li>Add success/cancel pages for Stripe</li>
                <li>Create account/dashboard page</li>
            </ul>

            <h3>Week 4: Launch Prep</h3>
            <ul class="checklist">
                <li>Finalise app name</li>
                <li>Purchase domain</li>
                <li>Configure DNS</li>
                <li>Update Stripe statement descriptor</li>
                <li>Update Supabase email templates</li>
                <li>Create privacy policy</li>
                <li>Create terms of service</li>
                <li>End-to-end testing</li>
                <li>Test on mobile devices</li>
                <li>Switch Stripe to live mode</li>
                <li>Soft launch</li>
            </ul>

            <h3>Post-Launch (Phase 3+)</h3>
            <ul class="checklist">
                <li>Monitor device logs for sharing patterns</li>
                <li>Outreach to multi-device accounts for team plans</li>
                <li>Implement session limits (if needed)</li>
                <li>Build team/organisation features (if demand)</li>
                <li>Add rental property support (if validated)</li>
                <li>PDF report generation</li>
                <li>Accessibility-filtered area search</li>
            </ul>
        </section>

        <!-- Footer -->
        <footer style="margin-top: 60px; padding-top: 24px; border-top: 1px solid var(--border); text-align: center; color: var(--text-light); font-size: 0.875rem;">
            <p>Phase 2 Implementation Guide ‚Äî Home Accessibility Score</p>
            <p>Generated December 2024</p>
        </footer>
    </div>
</body>
</html>
